# atTRACTive Simulations
![License Apache Software License 2.0](https://img.shields.io/pypi/l/napari-sam.svg?color=green)
![Python](https://img.shields.io/badge/python-3.8+-orange)

Copyright © German Cancer Research Center (DKFZ), Division of Medical Image Computing (MIC).


## Overview
This repository contains the code for the simulation experiments for the MICCAI 2023 submission "atTRACTive: Semi-automatic white matter tract segmentation using active learning". For more information, please refer to the submission (https://arxiv.org/abs/2305.18905).
If you want to try atTRACTive interactively, please find the prototype integrated in MITK-Diffusion (https://github.com/MIC-DKFZ/MITK-Diffusion).


## Requirements
Run the experiments in a virtual environment using Python >3.8 and install the dependencies with "pip install -r requirements.txt".

## Data
For our experiments, we used the 21 subjects of the Human Connectome Project that were also used to test TractSeg [1]. Find an already downsampled tractogram and the corresponding ground truth tracts (CST_left, AF_left, OR_left) of subject 645551.

## Usage
You can replicate the experiments using the example data from subject 645551 or use your own data. The initial tractogram consisting of 10 million streamlines is already downsampled to one million streamlines. To create the ground truth, a segmentation mask and start- and end-regions of the tracts generated by TractSeg were used. First, only fibers that were inside the mask were kept from the initial, downsampled tractogram. Additionally, only those fibers that start and end in the respective regions were filtered.
If you simply clone this repository and run main.py, the process of active learning for tract segmentation is simulated. Once the simulation is finished, you can find the prediction of the tract after each iteration and a figure representing the dice between the prediction and ground truth of each iteration.

## License
Distributed under the terms of the Apache Software License 2.0 license, "atTRACTive" is free and open-source software.

## References
[1] Wasserthal, J., Neher, P., Maier-Hein, K.H.: Tractseg-fast and accurate white matter tract segmentation. NeuroImage 183, 239–253 (2018)

#### 
